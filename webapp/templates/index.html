<!doctype html>
<html lang="ru">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    
    <title>Geek Space</title>
  </head>
  <body>
    <div class="container">
      <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
        <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
          <span class="fs-4">Geek Space</span>
        </a>
        <ul class="nav nav-pills">
          <li class="nav-item"><a href="#" class="nav-link">About</a></li>
          <li class="nav-item">
            <a class="nav-link" href="{{url_for('create_post')}}">New Post</a>
          </li>
        </ul>
        <div class="col-1">
            {% if current_user.is_authenticated %}
              <button class="my-button" onclick="window.location.href='logout'">Выйти из системы</button>
            {% else %}
              <button class="my-button" onclick="window.location.href='login'">Войти в систему</button>
            {% endif %}
        </div> 
      </header>
    </div>  
    <div class="container">
      <div class="row">
          <div class="col-8">
             {% with messages = get_flashed_messages() %}
                 {% if messages %}
                 <div class="alert alert-warning" role="alert">
                     {% for message in messages %}
                         {{ message }}<br>
                     {% endfor %}
                </div>
                {% endif %}
            {% endwith %}           
              <h2>Новости</h2>
              {% for news in news_list%}
              <a href="{{ news.url }}">
                <h2>{{ news.title }}</h2>
              </a>
              <span>{{ news.author }} {{ news.written.strftime('%d.%m.%Y') }}</span>
              <a href="{{ url_for('edit_post', id=news['id']) }}">
                <span class="badge text-bg-warning">Edit</span>
              </a>
              <hr>
              {% endfor %}
          </div>
      </div>
    </div>
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
    -->
  </body>
</html>


<!-- Стили -->
<style>
  /* Стиль кнопки Регистрации */
  .my-button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 6px;
    font-size: 18px;
    transition: all 0.3s ease-in-out;
    position: fixed;
    top: 10px;
    right: 10px;
    z-index: 9999;
  }
  .my-button:hover {
    transform: translateY(-2px);
    box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.3);
  }


  </style>
  